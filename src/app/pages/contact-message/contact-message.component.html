<mat-card class="contact-message-container">
    <mat-card-title>Contact Messages</mat-card-title>
  
    <div *ngIf="messages.length === 0" class="text-center">
      <p>No messages available.</p>
    </div>
  
    <mat-table [dataSource]="messages" class="mat-elevation-z8 responsive-table">
  
        <!-- Name Column -->
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let msg">{{ msg.name }}</mat-cell>
        </ng-container>
  
        <!-- Email Column -->
        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
            <mat-cell *matCellDef="let msg">{{ msg.email }}</mat-cell>
        </ng-container>
  
        <!-- Subject Column -->
        <ng-container matColumnDef="subject">
            <mat-header-cell *matHeaderCellDef>Subject</mat-header-cell>
            <mat-cell *matCellDef="let msg">{{ msg.subject }}</mat-cell>
        </ng-container>
  
        <!-- Message Column -->
        <ng-container matColumnDef="message">
            <mat-header-cell *matHeaderCellDef>Message</mat-header-cell>
            <mat-cell *matCellDef="let msg">
                <span class="truncate" [matTooltip]="msg.message">{{ msg.message }}</span>
            </mat-cell>
        </ng-container>
  
        <!-- Created At Column -->
        <ng-container matColumnDef="createdAt">
            <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
            <mat-cell *matCellDef="let msg">{{ msg.createdAt | date: 'mediumDate' }}</mat-cell>
        </ng-container>

         <!-- Actions Column -->
        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let msg">
                <button mat-icon-button color="primary" (click)="viewMessage(msg)" matTooltip="View" matTooltipPosition="above">
                    <mat-icon>visibility</mat-icon>
                </button>
                <button mat-icon-button color="warn" (click)="deleteMessage(msg)" matTooltip="Delete" matTooltipPosition="above">
                    <mat-icon>delete</mat-icon>
                </button>
            </mat-cell>
        </ng-container>
  
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
</mat-card>
  